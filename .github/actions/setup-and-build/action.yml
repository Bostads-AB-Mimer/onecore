name: Setup and Build
description: |
  Checkout, setup Node.js, install dependencies, and build all monorepo packages.

  This composite action should be used at the start of any job that depends on
  generated static code or built output.

runs:
  using: "composite"
  steps:
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20'
        cache: 'npm'
         
    - name: Install dependencies
      run: npm ci
      shell: bash
       
    - name: Generate Static Code
      run: npm run generate:static
      shell: bash
       
    - name: Build packages
      run: npm run build
      shell: bash
